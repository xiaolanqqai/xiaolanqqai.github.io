<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Xiaolan - 测试 MM-secure.html</title>
	<!-- 模块化 Header 组件 -->
	<script src="../js/components/header-component.js"></script>
	<script type="text/javascript" src="../js/jquery-3.5.1.min.js"></script>
</head>

<body>
	<div class="z-3 d-flex flex-row position-fixed top-0 start-0 p-3">
		<button onclick="window.location.href = '../index.html'" type="button" class="btn btn-info shadow me-3 w-100px"><strong>返回</strong></button>
		<button onclick="window.location.href = 'More.html'" type="button" class="btn btn-info shadow w-100px"><strong>More</strong></button>
	</div>

	<div class="z-2 d-flex flex-column mx-auto mt-5 pt-5 container">
		<div class="d-flex flex-column">
			<div class="mt-3 mx-3">
				<div class="alert alert-success shadow" role="alert">
					<h4 class="alert-heading">MM-secure.html 测试页面</h4>
					<p>此页面用于测试新创建的 MM-secure.html 页面的功能。</p>
					<hr>
					<p class="mb-0">
						<a href="MM-secure.html" class="btn btn-primary">访问 MM-secure.html</a>
					</p>
				</div>

				<div class="alert alert-info shadow" role="alert">
					<h5 class="alert-heading">测试说明</h5>
					<ul>
						<li>点击上方按钮访问 MM-secure.html 页面</li>
						<li>页面会自动加载并尝试解密 <code>MM-encrypted.json</code> 文件</li>
						<li>输入密码 <strong>ABCD</strong> (按图案顺序点击)</li>
						<li>如果解密成功，会显示 MM.json 文件的内容</li>
					</ul>
				</div>

				<div class="alert alert-warning shadow" role="alert">
					<h5 class="alert-heading">注意事项</h5>
					<ul>
						<li>密码错误 3 次后，会被锁定 24 小时</li>
						<li>图案顺序会根据日期自动打乱</li>
						<li>请确保 <code>MM-encrypted.json</code> 文件存在于 index 文件夹中</li>
					</ul>
				</div>
			</div>
		</div>

		<div class="fixed-bottom mx-1">
			<div class="container-fluid">
				<div class="d-flex justify-content-end align-items-center gap-2">
					<span class="badge text-black-50"><a
							href="https://xiaolanqqai-sturdy-journey-97xqj446r6wfpw6v.github.dev/" rel="nofollow"
							target="_blank">Dev</a> • <a id="uptime1" href="Develop.html">加载中...</a></span>
					<span id="state1" class="badge text-bg-success">加载中...</span>
					<div class="spinner-grow spinner-grow-sm text-info" role="status"></div>
				</div>
			</div>
		</div>
	</div>

	<!-- 模块化 Background 组件 -->
	<script src="../js/components/background-component.js"></script>
	<script>
		$('img').on("error", function () {
			$(this).attr('src', '../img/index.png');
		});
	</script>
	<script src="../js/foot.js"></script>
	<script src="../js/dark-mode.js"></script>

	<script>
		// 加载版本信息
		document.addEventListener('DOMContentLoaded', function () {
			fetch('../js/nav-data.json')
				.then(response => response.json())
				.then(data => {
					loadVersionInfo(data);
				})
				.catch(error => {
					console.error('加载版本信息时出错:', error);
					document.getElementById('uptime1').textContent = 'Beta:error';
					document.getElementById('state1').textContent = 'Error';
				});
		});

		function loadVersionInfo(data) {
			if (data.version) {
				document.getElementById('uptime1').textContent = data.version;
			}
			document.getElementById('state1').textContent = 'Online';
		}
	</script>
</body>

</html>